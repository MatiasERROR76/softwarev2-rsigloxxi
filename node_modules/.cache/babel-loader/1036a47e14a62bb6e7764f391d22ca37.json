{"ast":null,"code":"import _classCallCheck from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import Moment from'react-moment';import'moment/locale/es';import Global from'../Global';import ImageDefault from'../assets/images/abc.jpg';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Articles=/*#__PURE__*/function(_Component){_inherits(Articles,_Component);var _super=_createSuper(Articles);function Articles(){var _this;_classCallCheck(this,Articles);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.url=Global.url;_this.state={articles:[],status:null};_this.getLastArticles=function(){axios.get(_this.url+\"articles/last\").then(function(res){_this.setState({articles:res.data.articles,status:'success'});});};_this.getArticlesBySearch=function(searched){axios.get(_this.url+\"search/\"+searched).then(function(res){_this.setState({articles:res.data.articles,status:'success'});console.log(_this.state);}).catch(function(err){_this.setState({articles:[],status:'success'});});};_this.getArticles=function(){axios.get(_this.url+\"articles\").then(function(res){_this.setState({articles:res.data.articles,status:'success'});console.log(_this.state);});};return _this;}_createClass(Articles,[{key:\"componentWillMount\",value:function componentWillMount(){var home=this.props.home;var search=this.props.search;if(home==='true'){this.getLastArticles();}else if(search&&search!==null&&search!==undefined){this.getArticlesBySearch(search);}else{this.getArticles();}}},{key:\"render\",value:function render(){var _this2=this;if(this.state.articles.length>=1){var listArticles=this.state.articles.map(function(article){return/*#__PURE__*/_jsxs(\"article\",{className:\"article-item\",id:\"article-template\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-wrap\",children:article.image!==null?/*#__PURE__*/_jsx(\"img\",{src:_this2.url+'get-image/'+article.image,alt:article.title}):/*#__PURE__*/_jsx(\"img\",{src:ImageDefault,alt:article.title})}),/*#__PURE__*/_jsx(\"h2\",{children:article.title}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:/*#__PURE__*/_jsx(Moment,{fromNow:true,children:article.date})}),/*#__PURE__*/_jsx(Link,{to:'blog/articulo/'+article._id,children:\"Leer m\\xE1s\"}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"})]},article._id);});return/*#__PURE__*/_jsx(\"div\",{id:\"articles\",children:listArticles});}else if(this.state.articles.length===0&&this.state.status==='success'){return/*#__PURE__*/_jsxs(\"div\",{id:\"articles\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"subheader\",children:\"No hay articulos para mostrar\"}),/*#__PURE__*/_jsx(\"p\",{children:\"todavia no hay contenido en esta secci\\xF3n\"})]});}else{return/*#__PURE__*/_jsxs(\"div\",{id:\"articles\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"subheader\",children:\"Cargando...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Espere unos segundos...\"})]});}}}]);return Articles;}(Component);export default Articles;","map":{"version":3,"names":["React","Component","Link","Moment","Global","ImageDefault","axios","Articles","url","state","articles","status","getLastArticles","get","then","res","setState","data","getArticlesBySearch","searched","console","log","catch","err","getArticles","home","props","search","undefined","length","listArticles","map","article","image","title","date","_id"],"sources":["C:/Users/admin/Desktop/Master/AprendiendoReact/src/components/Articles.js"],"sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport 'moment/locale/es';\r\nimport Global from '../Global';\r\nimport ImageDefault from '../assets/images/abc.jpg';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Articles extends Component {\r\n\r\n    url = Global.url;\r\n\r\n\r\n\r\n    state = {\r\n        articles: [],\r\n        status: null\r\n    };\r\n\r\n    componentWillMount(){\r\n        var home = this.props.home;\r\n        var search = this.props.search;\r\n\r\n        if(home === 'true'){\r\n            this.getLastArticles();\r\n        }else if(search && search !== null && search !== undefined){\r\n            this.getArticlesBySearch(search);\r\n\r\n        }else{ \r\n            this.getArticles();\r\n        }\r\n    }\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n    getLastArticles = () => {\r\n        axios.get(this.url+\"articles/last\")\r\n            .then(res => {\r\n                this.setState({     \r\n                    articles: res.data.articles,\r\n                    status: 'success'\r\n\r\n                });\r\n                \r\n            });\r\n\r\n    }\r\n\r\n \r\n\r\n\r\n    getArticlesBySearch = (searched) => {\r\n        axios.get(this.url+\"search/\"+searched)\r\n            .then(res => {\r\n\r\n                    this.setState({\r\n                        articles: res.data.articles,\r\n                        status: 'success'\r\n                    });\r\n            \r\n                    console.log(this.state);\r\n            })\r\n            .catch( err => {\r\n\r\n                this.setState({\r\n                    articles: [],\r\n                    status: 'success'\r\n                });\r\n            }); \r\n            \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    getArticles = () => {\r\n        axios.get(this.url+\"articles\")\r\n        \r\n            .then(res => {\r\n                this.setState({\r\n                    articles: res.data.articles, \r\n                    status: 'success'\r\n                });\r\n              console.log(this.state);\r\n            });\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    render() {\r\n        if (this.state.articles.length >= 1 ) {\r\n\r\n            var listArticles = this.state.articles.map((article) => {\r\n\r\n                return (\r\n                    <article key={article._id}className=\"article-item\" id=\"article-template\">\r\n                        <div className=\"image-wrap\">\r\n                        {\r\n                            article.image !== null ? (\r\n                                <img src={this.url+'get-image/'+article.image} alt={article.title}/>\r\n                            ): (\r\n                                <img src={ImageDefault}alt={article.title}/>\r\n                            )\r\n                        }\r\n\r\n                        </div>\r\n\r\n                        <h2 >{article.title}</h2>\r\n                        <span className=\"date\">\r\n                            <Moment fromNow>{article.date}</Moment>\r\n                        </span>\r\n                        <Link to={'blog/articulo/'+article._id} >Leer más</Link>\r\n\r\n                        <div className=\"clearfix\"></div>\r\n                    </article>\r\n                );\r\n            });\r\n\r\n            return (\r\n                <div id=\"articles\">\r\n                    {listArticles}\r\n                </div>\r\n            );\r\n        } else if (this.state.articles.length === 0 && this.state.status === 'success') {\r\n\r\n            return (\r\n                <div id=\"articles\">\r\n                    <h2 className=\"subheader\">No hay articulos para mostrar</h2>\r\n                    <p>todavia no hay contenido en esta sección</p>\r\n                </div>\r\n            );\r\n\r\n        } else {\r\n            return (\r\n                <div id=\"articles\">\r\n                    <h2 className=\"subheader\">Cargando...</h2>\r\n                    <p>Espere unos segundos...</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default Articles;"],"mappings":"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"},"metadata":{},"sourceType":"module"}