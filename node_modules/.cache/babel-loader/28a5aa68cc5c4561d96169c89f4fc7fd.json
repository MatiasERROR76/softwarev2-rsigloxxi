{"ast":null,"code":"import _classCallCheck from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/admin/Desktop/Master/AprendiendoReact/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from'axios';import swal from'sweetalert';import{Link,Redirect}from'react-router-dom';import React,{Component}from'react';import Global from'../Global';import Sidebar from'./Sidebar';import Moment from'react-moment';import'moment/locale/es';import ImageDefault from'../assets/images/abc.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Article=/*#__PURE__*/function(_Component){_inherits(Article,_Component);var _super=_createSuper(Article);function Article(){var _this;_classCallCheck(this,Article);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.url=Global.url;_this.state={article:false,status:null};_this.getArticle=function(){var id=_this.props.match.params.id;axios.get(_this.url+'article/'+id).then(function(res){_this.setState({article:res.data.article,status:'success'});}).catch(function(err){_this.setState({article:false,status:'success'});});};_this.deleteArticle=function(id){swal({title:\"Estas seguro?\",text:\"Borrarás permanentemente el articulo\",icon:\"warning\",buttons:true,dangerMode:true}).then(function(willDelete){if(willDelete){axios.delete(_this.url+'article/'+id).then(function(res){_this.setState({article:res.data.article,status:'deleted'});swal('Articulo borrado.','El articulo ha sido borrado correctamente.','success');});}else{swal('Tranquilo','No se ha borrado el articulo','success');}});};return _this;}_createClass(Article,[{key:\"componentWillMount\",value:function componentWillMount(){this.getArticle();}},{key:\"render\",value:function render(){var _this2=this;if(this.state.status==='deleted'){return/*#__PURE__*/_jsx(Redirect,{to:\"/blog\"});}var article=this.state.article;return/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[/*#__PURE__*/_jsxs(\"section\",{id:\"content\",children:[this.state.article&&/*#__PURE__*/_jsxs(\"article\",{className:\"article-item article-detail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-wrap\",children:article.image!==null?/*#__PURE__*/_jsx(\"img\",{src:this.url+'get-image/'+article.image,alt:article.title}):/*#__PURE__*/_jsx(\"img\",{src:ImageDefault,alt:article.title})}),/*#__PURE__*/_jsx(\"h1\",{className:\"subheader\",children:article.title}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:/*#__PURE__*/_jsx(Moment,{locale:\"es\",fromNow:true,children:article.date})}),/*#__PURE__*/_jsx(\"p\",{children:article.content}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){_this2.deleteArticle(article._id);},className:\"btn-danger\",children:\"Eliminar \"}),/*#__PURE__*/_jsx(Link,{to:\"/blog/editar/\"+article._id,className:\"btn-warning\",children:\"Editar \"}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\"})]}),!this.state.article&&this.state.status==='success'&&/*#__PURE__*/_jsxs(\"div\",{id:\"article\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"subheader\",children:\"El articulo no existe\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Intentalo de nuevo m\\xE1s tarde\"})]}),this.state.status==null&&/*#__PURE__*/_jsxs(\"div\",{id:\"article\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"subheader\",children:\"Cargando...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Espere unos segundos.\"})]})]}),/*#__PURE__*/_jsx(Sidebar,{})]});}}]);return Article;}(Component);export default Article;","map":{"version":3,"names":["axios","swal","Link","Redirect","React","Component","Global","Sidebar","Moment","ImageDefault","Article","url","state","article","status","getArticle","id","props","match","params","get","then","res","setState","data","catch","err","deleteArticle","title","text","icon","buttons","dangerMode","willDelete","delete","image","date","content","_id"],"sources":["C:/Users/admin/Desktop/Master/AprendiendoReact/src/components/Article.js"],"sourcesContent":["import axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport React, { Component } from 'react';\r\nimport Global from '../Global';\r\nimport Sidebar from './Sidebar';\r\nimport Moment from 'react-moment';\r\nimport 'moment/locale/es';\r\nimport ImageDefault from '../assets/images/abc.jpg';\r\n\r\nclass Article extends Component {\r\n\r\n    url = Global.url;\r\n\r\n    state = {\r\n        article: false,\r\n        status: null\r\n    };\r\n\r\n\r\n    componentWillMount() {\r\n        this.getArticle();\r\n    }\r\n\r\n\r\n    getArticle = () => {\r\n        var id = this.props.match.params.id;\r\n\r\n\r\n        axios.get(this.url + 'article/' + id)\r\n            .then(res => {\r\n                this.setState({\r\n                    article: res.data.article,\r\n                    status: 'success'\r\n                });\r\n            }).catch(err => {\r\n\r\n                this.setState({\r\n                    article: false,\r\n                    status: 'success'\r\n                });\r\n            });\r\n    }\r\n\r\n\r\n    deleteArticle = (id) => {\r\n\r\n        swal({\r\n            title: \"Estas seguro?\",\r\n            text: \"Borrarás permanentemente el articulo\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n            .then((willDelete) => {\r\n                if (willDelete) {\r\n                    axios.delete(this.url + 'article/' + id)\r\n                        .then(res => {\r\n                            this.setState({\r\n                                article: res.data.article,\r\n                                status: 'deleted'\r\n                            });\r\n\r\n\r\n                            swal(\r\n                                'Articulo borrado.',\r\n                                'El articulo ha sido borrado correctamente.',\r\n                                'success'\r\n                            )\r\n\r\n\r\n                        });\r\n                } else {\r\n                    swal(\r\n                        'Tranquilo',\r\n                        'No se ha borrado el articulo',\r\n                        'success'\r\n                    )\r\n                }\r\n            });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.state.status === 'deleted') {\r\n            return <Redirect to=\"/blog\" />\r\n        }\r\n\r\n\r\n        var article = this.state.article;\r\n\r\n\r\n\r\n        return (\r\n\r\n            <div className=\"center\">\r\n                <section id=\"content\">\r\n\r\n\r\n\r\n                    {this.state.article &&\r\n                        <article className=\"article-item article-detail\">\r\n                            <div className=\"image-wrap\">\r\n                                {\r\n                                    article.image !== null ? (\r\n                                        <img src={this.url + 'get-image/' + article.image} alt={article.title} />\r\n                                    ) : (\r\n                                        <img src={ImageDefault} alt={article.title} />\r\n                                    )\r\n                                }\r\n                            </div>\r\n\r\n                            <h1 className=\"subheader\">{article.title}</h1>\r\n                            <span className=\"date\">\r\n                                <Moment locale=\"es\" fromNow>{article.date}</Moment>\r\n                            </span>\r\n                            <p>\r\n                                {article.content}\r\n\r\n                            </p>\r\n\r\n                            <button onClick={\r\n                                () => {\r\n                                    this.deleteArticle(article._id)\r\n                                }\r\n                            }\r\n                            \r\n                                className=\"btn-danger\">Eliminar </button>\r\n                            <Link to={\"/blog/editar/\"+article._id} className=\"btn-warning\">Editar </Link>\r\n\r\n\r\n\r\n                            <div className=\"clearfix\"></div>\r\n                        </article>\r\n\r\n\r\n                    }\r\n\r\n\r\n                    {!this.state.article && this.state.status === 'success' &&\r\n                        <div id=\"article\">\r\n                            <h2 className=\"subheader\">El articulo no existe</h2>\r\n                            <p>Intentalo de nuevo más tarde</p>\r\n                        </div>\r\n\r\n                    }\r\n\r\n\r\n                    {this.state.status == null &&\r\n                        <div id=\"article\">\r\n                            <h2 className=\"subheader\">Cargando...</h2>\r\n                            <p>Espere unos segundos.</p>\r\n                        </div>\r\n\r\n                    }\r\n\r\n\r\n\r\n\r\n\r\n                </section>\r\n\r\n                <Sidebar />\r\n\r\n\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Article;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}